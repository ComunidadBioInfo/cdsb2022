[["control-de-versiones-con-github-y-rstudio.html", "2 Control de versiones con GitHub y RStudio 2.1 Diapositivas 2.2 ¬øPor qu√© hacer control de versiones de nuestros proyectos? 2.3 Git 2.4 GitHub 2.5 Manual de sobreviviencia con Git Y GitHub en RStudio (en caso de ser necesario) 2.6 Credenciales HTTPS en Cache 2.7 Conectando RStudio con Git y Github. 2.8 GitHub primero, RStudio despu√©s‚Ä¶ 2.9 RStudio primero y GitHub tambi√©n 2.10 Proyecto existente, GitHub al final", " 2 Control de versiones con GitHub y RStudio Dr.¬†Alejandra Medina; M. C. Erick Cuevas-Fern√°ndez 01 de agosto de 2022 div.color { border-radius: 5px; padding: 20px; margin: 30px 0px 30px;} div.red { background-color:#f67155; } div.orange{ background-color:#f0BB51;} div.pair { display: flex; flex-direction: row; justify-content: center; text-align:center; padding:0px} div.inside { width: 49%; padding: 0px} div.scroll { max-height: 400px; overflow-y: auto; background: #111111; border-radius:5px; padding: 10px; margin: 30px 0px 30px; color: #999999;} div.alert{color:#bd475d; background-color:transparent} Este documento se basa en ‚ÄúHappy Git with R‚Äù de Jenny Bryan, los STAT 545 TAs, Jim Hester https://happygitwithr.com 2.1 Diapositivas 2.2 ¬øPor qu√© hacer control de versiones de nuestros proyectos? ‚úÖ Los proyectos suelen cambiar y crecer. üíæ Es d√≠ficil saber cu√°les fueron todos los cambios a lo largo del tiempo (en especial tiempos largos, hazlo por tu yo del futuro!). ü§î Las colaboraciones se pueden complicar sin un buen control de versiones. üîê Seguridad. 2.3 Git Git es un sistema de control de versiones Git funciona con GitHub, Bitbucket o GitLab ¬øPor qu√© usar Git en vez de solo renombrar los archivos? ‚úÖ‚úÖPor qu√© es mejor tener una filogenia del archivo. Git es un sistema de control de versiones distribuido, gratuito y de c√≥digo abierto, dise√±ado para manejar todo tipo de proyectos, desde los m√°s peque√±os hasta los m√°s grandes, con rapidez y eficiencia. Git es f√°cil de aprender y ocupa poco espacio con un rendimiento rapid√≠simo. Supera a las herramientas SCM como Subversion, CVS, Perforce y ClearCase con caracter√≠sticas como la ramificaci√≥n local barata, las c√≥modas √°reas de preparaci√≥n y los m√∫ltiples flujos de trabajo. 2.3.1 Git vs controles de versi√≥n a mano Con Git cada contribuidor tiene una copia del repositorio central, con todos los archivos y la historia de los cambios por los que han pasado. Excuse me, do you have a moment to talk about version control?, Jennifer Bryan, 2017 ‚ö†Ô∏è NO OLVIDES TENER INSTALADO Git, en caso de que a√∫n no lo hayas instalado, lo puedes descargar en el siguiente enlace https://git-scm.com/downloads. Para conocer la localizaci√≥n y la versi√≥n de Git que tienes en tu computadora, corre el siguiente comando en la terminal: which git y git --version 2.4 GitHub GitHub es una plataforma para guardar proyectos, hace uso de Git. Su principal utilidad es para generar c√≥digo fuente de programas. ‚ö†Ô∏è NO OLVIDES TENER UNA CUENTA EN GITHUB, en caso de que a√∫n no lo hayas hecho, puedes ir la p√°gina de GitHub y seleccionar join. Es indispensable tu usuario para los ejercicios que siguen. Tambi√©n existen otras plataformas como Bitbucked y GitLab, las cuales funcionan de manera similar a GitHub. 2.5 Manual de sobreviviencia con Git Y GitHub en RStudio (en caso de ser necesario) Por cualquier problema con la conexi√≥n entre RStudio y Git, siempre ten en cuenta la ubicaci√≥n de d√≥nde se instal√≥ Git. Puedes usar en la terminal which git (Mac y Linux) O bien usar en la terminal where git (Windows) Recuerda que la terminal (o l√≠nea de comandos √≥ consola √≥ shell √≥ bash) es un programa en tu computadora que funciona para correr otros programas. Desde RStudio puedes abrir la terminal, lo cual es muy conveniente si est√°s trabajando en un proyecto. Puedes abrir una terminal con: Tools &gt; Terminal (abre la terminal dentro del IDE de RStudio) Tools &gt; Shell (abre una terminal externa a RStudio) La recomendaci√≥n actual de GitHub es usar HTTPS porque es la manera m√°s f√°cil de configurar y tiene operabilidad en multiples redes y plataformas. Es menos probable que HTTPS sea bloqueado por un firewall. Una conexi√≥n HTTPS permite que credential.helper almacene en cach√© su contrase√±a. (por tanto puedes configurar tu usuario y contrase√±a en tu equipo de uso) Es m√°s sencillo acceder a un repositorio desde cualquier lugar, ya que solo necesita los detalles de su cuenta (no se requieren claves SSH) para escribir en el repositorio. Usualmente cuando inicies un proyecto colaborativo con GitHub inicializa el ropositorio con un README. Copia el HTTPS URL para clonar el repositorio en la terminal git clone https://github.com/TU-USUARIO/TU-REPOSITORIO.git. 2.6 Credenciales HTTPS en Cache Puedes crear un token de acceso personal, PAT (PERSONAL ACCESS TOKEN), esa ser√° tu credencial para HTTPS. Es una alternativa al uso de contrase√±as para la autenticaci√≥n en GitHub cuando utilizas la API de GitHub o la l√≠nea de comandos. Como precauci√≥n de seguridad, GitHub elimina autom√°ticamente los tokens de acceso personales que no se han usado durante un a√±o. OJO PARA FINES DEL CURSO POR AHORA NO GENERAREMOS UN TOKEN, este proceso realizalo cuando tengas planificado donde guardar tu contrase√±a y trabajes con una computado personal. ¬øC√≥mo crear un token? Ve a tu perfil de GitHub, dale click a la imagen de perfil (usualmente en la esquina superior derecha), y busca la opci√≥n de settings √≥ configuraci√≥n seg√∫n sea la configuraci√≥n de idioma que tengas. Da click a continuaci√≥n en Developer settings √≥ Par√°metros del desarrollador. En la barra lateral izquierda da click en Tokens de acceso personal. Haz click en Generar un nuevo token. As√≠gna un nombre descriptivo a tu token. Selecciona los alcances o permisos que deseas otorgarle a este token. Para usar tu token para acceder a repositorios desde la l√≠nea de comando, selecciona repo. Finalmente haz click en generar token. Listo, copia y pega tu token en el lugar d√≥nde siempre lo puedas volver a copiar, ya que por razones de seguridad, una vez salgas de la p√°gina no podr√°s volver a ver el token. Nota: Preserva tus tokens de la misma manera que tus contrase√±as y no se las reveles a nadie. Cuando trabajes con la API, usa tokens como variables del entorno en lugar de codificarlos de forma r√≠gida en tus programas. Una vez que tengas un token, puedes ingresarlo en lugar de tu contrase√±a cuando realices operaciones de Git a trav√©s de HTTPS. El punto final es que una vez configurada una PAT, varios paquetes de R, incluidos usethis y gh, podr√°n trabajar con la API de GitHub en su nombre, de forma autom√°tica. Por lo tanto, una PAT configurada correctamente significa que todo esto funcionar√° a la perfecci√≥n: - Operaciones HTTPS remotas a trav√©s de la l√≠nea de comando Git y, por lo tanto, a trav√©s de RStudio - Operaciones HTTPS remotas a trav√©s del paquete gert R y, por lo tanto, usethis - Operaciones de la API de GitHub a trav√©s del paquete gh R y, por lo tanto, usethis ¬øC√≥mo crear un token desde R? Puedes ir directamente a la p√°gina de GitHub a la parte para generar tu token de acceso personal mediante la siguiente funci√≥n: usethis::create_github_token() Y con las opciones que se mencionaban anteriormente puedes configurar y crear tu PAT. Si lo que quieres especificar tu PAT en RStudio, las siguientes funciones te ser√°n √∫tiles: library(gitcreds) gitcreds_set() library(credentials) set_github_pat() Para eliminar credenciales utiliza la funci√≥n credentials::git_credential_forget() 2.6.1 Actividad Ejecuta los c√≥digos PERO no generes para tu PAT por ahora. 2.7 Conectando RStudio con Git y Github. Para lo que sigue a continuaci√≥n, deber√≠as tener esto: Tener una cuenta en GitHub R y RStudio actualizados Git instalado Saber que desde la terminal puedes hacer push y pull 2.8 GitHub primero, RStudio despu√©s‚Ä¶ Crea un repositorio en GitHub: mi_repositorio &gt; Public &gt; YES initialize this repository with a README &gt; clicken el gran bot√≥n verde ‚ÄúCreate repository‚Äù En RStudio crea un nuevo proyecto: File &gt; New Project &gt; Version Control &gt; Git. Ahi pega el URL del repositorio https://github.com/mi_usuario/mi_repositorio.git. Da click en Create Project. Esto nos generar√° los siguientes elementos: Un directorio nuevo Un repositorio Git enlazado a al repositorio de GitHub Un proyecto en RStudio Con este procedimiento ya no es necesario preocuparse por configurar controles remotos Git y rastrear ramas en la l√≠nea de comandos. 2.8.1 Actividad Genera un repositorio con el nombre que desees. Y con√©ctalo a RStudio. Cerciorate de que el archivo README se encuentre en tu nueva carpeta. Usa la funci√≥n usethis::use_r(\"titulo_de_un_script\") y observa lo que sucede. PAUSA ¬øC√≥mo comento y doy push/pull desde RStudio? 2.8.2 Comentar, pull y push Con la flecha azul podemos hacer pull (RECUERDA HACERLO ANTES DE HACER UN PUSH), y con la flecha verde un push. Para poder comentar y hacer push debemos marcar con una flechita mediante un click en las peque√±as cajas blancas de la columna Staged, damoc click en commit lo cual no abre la siguiente ventana. Volvemos a dar click en commit, y finalizamos con push (flecha verde). 2.8.3 Actividad Usa el c√≥digo dir.create(\"mis_imagenes\") en la consola de tu sesi√≥n de RStudio (la que est√° vinculada a tu repositorio). Ejecuta el siguiente c√≥digo quitando los #: data(MASS::cats) # pdf(&quot;mis_imagenes/cats_plot.pdf&quot;) ggplot(cats, aes(x = Sex)) + geom_bar(fill = &quot;orange&quot;, color = &quot;black&quot;) + theme_classic() + xlab(&quot;Sexo&quot;) + ylab(&quot;N√∫mero de Gatos&quot;) + ggtitle(&quot;Gatos&quot;) # dev.off() Comenta y da push a los cambios que realizaste en el repositorio. 2.9 RStudio primero y GitHub tambi√©n Usa uno de los proyectos que hayas generado en las sesiones anteriores, PERO, que no est√© enlazado a GitHub. Ahora veremos como conectar un proyecto de R existente con GitHub. Realiza los pasos que hicimos en GitHub primero, RStudio despu√©s pero asegurate de crear un repositorio con un nuevo nombre. Y LISTO!! usa un simple ctrl + c, √≥ mv √≥ click derecho + copiar √≥ el m√©todo que prefieras para mover o copiar archivos. Copia los archivos de tu antig√ºo proyecto al proyecto nuevo. Solo haz commit y push y listo, lo que ten√≠a en tu antig√ºo proyecto ya est√° enlazado a GitHub. 2.9.1 Actividad Por equipos de 3 personas: Copia y pega los archivos que generaste en el Repositorio que se comparti√≥ en el ‚ÄúDrive‚Äù (elijan uno de los tres repositorios) en un respositorio conectado a GitHub. Todos clonen un repositorio de GitHub en com√∫n. Enlacelo a GitHub y sigan el procedimiento de RStudio primero y GitHub tambi√©n. Seleccionen con que datos quieren trabajar por equipo: gapminder mtcars cats Creen una carpeta para guardar imagenes. Por persona generen un grafico representativo de su dataset, guardelo en la carpeta de imagenes. Compartan entre el equipo sus creaciones al hacer commit/pull/push. 2.10 Proyecto existente, GitHub al final Supongamos que tenemos un proyecto de R existente en alg√∫n lugar de nuestra computadora. NOTA: Para generar proyecto de RStudio desde la consola puedes utilizar el siguiente c√≥digo: usethis::create_project() O en RStudio con File &gt; New Project &gt; Existing Directory Si su proyecto ya es un proyecto de RStudio, ejec√∫telo. ¬øYa es un repositorio de Git? La presencia del panel de Git deber√≠a alertarlo. Si es as√≠, ha terminado. Sino este es el primer camino a seguir: Con el p√°quete usethis usa la funci√≥n usethis::use_git En RStudio ve a Tools &gt; Project Options &gt; Git/SVN. Dentro de Version control system, selecciona Git. Y da click a ‚ÄúYes‚Äù cuando aparezca ‚ÄúConfirm New Git Repository?‚Äù. Si usaste RStudio o usethis, el proyecto deber√≠a reiniciarse en RStudio. Hazlo tu mismo si hizo git init. RStudio ahora deber√≠a tener un panel Git. 2.10.1 Breviario cultural con los PATs Si usas el paquete usethis Y has configurado un token de acceso personal (PAT) de GitHub has esto en R: usethis::use_github() Esto crear√° un nuevo repositorio en GitHub, lo agregar√° como un control remoto, configurar√° una rama de seguimiento y lo abrir√° en su navegador. Lea la ayuda de use_github() para conocer sus argumentos y consejos sobre c√≥mo configurar una PAT. Esto es extremadamente √∫til para una variedad de flujos de trabajo que llaman a la API de GitHub. Considere configurar esto si usa usethis, devtools o gh con regularidad. Volviendo al tema de Proyecto existente, GitHub al final. Otra opci√≥n que se puede hacer para conectar un proyecto existen a GitHub es ir a hacer un repositorio a GitHub PERO ten en cuenta los siguientes cambios: Elije un nombre de repositorio; probablemente deber√≠a coincidir con el nombre de su proyecto y directorio local. NO inicialice este repositorio con un archivo README. Todo lo dem√°s es igual a los pasos que hac√≠amos en GitHub primero, RStudio despu√©s‚Ä¶ Ahora ve a tu proyecto de RStudio, has clic en los ‚Äúdos cuadros de color p√∫rpura y un cuadrado blanco‚Äù en el panel de Git. Has clic en ‚ÄúAgregar control remoto‚Äù. Pegue la URL aqu√≠ y elija un nombre remoto, casi con certeza el origin. Ahora ‚ÄúADD‚Äù. Pasado esto deberiamos volver en el cuadro de di√°logo ‚ÄúNew Branch‚Äù. Ingresa ‚Äúmaster‚Äù como el nombre de la rama y aseg√∫rate de que la opci√≥n ‚ÄúSync branch with remote‚Äù est√© marcada. Haz clic en ‚ÄúCreate‚Äù. En el siguiente cuadro de di√°logo elije ‚Äúoverwrite‚Äù. Ahora solo haz commit/pull/push y c√©rciorate que FUNCIONE!! 2.10.2 Actividad Por equipos hagan lo siguiente: Usa un proyecto que no est√© enlazado a GitHub. Genera un repositorio que tenga el mismo nombre de tu proyecto siguiendo las instrucciones recientes. Enlaza tu repositorio con el proyecto existente. ¬°QUE LA FUERZA TE ACOMPA√ëE! "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
